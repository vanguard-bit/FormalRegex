/* Basic font + sizing */
:root{
    --bg: #ffffff;
    --panel: #f7f7f7;
    --border: #dddddd;
    --text: #222222;
    --accent: #0066ff;
    --code-bg: #f0f0f0;
    --error-bg: #ffe5e5;
    --accept: #008000;
    --reject: #cc0000;
    --overlay-bg: #ffffff;
}

body.dark {
    --bg: #141414;
    --panel: #212121;
    --border: #333;
    --text: #e6e6e6;
    --accent: #5599ff;
    --code-bg: #1e1e1e;
    --error-bg: #552222;
    --accept: #66ff99;
    --reject: #ff8080;
    --overlay-bg: #1b1b1b;
}

html { font-size: 17px; }
body {
    margin: 0;
    font-family: 'Inter', sans-serif;
    background: var(--bg);
    color: var(--text);
    transition: background 0.18s, color 0.18s;
}

/* Top bar */
.topbar {
    display:flex;
    justify-content:space-between;
    align-items:center;
    padding:10px 20px;
    background:var(--panel);
    border-bottom:1px solid var(--border);
}
.topbar h1 { margin:0; font-size:1.1rem; }
.top-controls { display:flex; gap:8px; align-items:center; }
.icon-btn { background:transparent; border:1px solid var(--border); padding:6px; border-radius:6px; cursor:pointer; }

/* Layout */
.container { display:grid; grid-template-columns: 1fr 1fr; gap:22px; padding:20px; }
.left-panel, .right-panel {
    background: var(--panel);
    border:1px solid var(--border);
    padding:18px;
    border-radius:8px;
}

/* Inputs */
input[type="text"], textarea {
    width:100%;
    padding:10px;
    border-radius:6px;
    border:1px solid var(--border);
    background: transparent;
    color: var(--text);
    margin-bottom:14px;
    box-sizing: border-box;
}

/* Buttons */
.button-row { display:flex; gap:10px; margin-top:6px; }
.run-btn { padding:10px 14px; background:var(--accent); color:white; border:none; border-radius:6px; cursor:pointer; }
.run-btn.secondary { background:transparent; color:var(--text); border:1px solid var(--border); }

/* Code box */
.code-box {
    background: var(--code-bg);
    padding:12px;
    border-radius:6px;
    white-space: pre-wrap;
    font-family: 'JetBrains Mono', monospace;
    overflow:auto;
}

/* Matches summary box */
.matches-box {
  display:none;
    background: var(--code-bg);
    padding:12px;
    border-radius:6px;
    border:1px solid var(--border);
    min-height:48px;
    white-space: pre-wrap;
    font-family: 'JetBrains Mono', monospace;
}

/* Acceptance table */
.accept-table { width:100%; border-collapse:collapse; margin-top:10px; }
.accept-table th, .accept-table td { padding:8px; border:1px solid var(--border); }
.ok { color:var(--accept); font-weight:600; }
.bad { color:var(--reject); font-weight:600; }

/* Error box */
.error-box { background:var(--error-bg); padding:10px; border-radius:6px; margin-top:12px; display:block; }

/* Overlay + textarea styling (regex101 style) */
.overlay-wrap { position: relative; border-radius:6px; overflow:hidden; border:1px solid var(--border); margin-bottom:12px; background: var(--overlay-bg); }
.overlay {
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    padding: 10px;
    pointer-events: none;        /* allow clicks to pass to the textarea */
    overflow: auto;
    white-space: pre-wrap;
    font-family: 'JetBrains Mono', monospace;
    line-height: 1.4;
    color: var(--text);

    background: transparent;     /* IMPORTANT: transparent so overlay shows highlights only */
    z-index: 3;                  /* overlay sits above the textarea */
}
.overlay-pre { margin:0; }
.input-textarea {
    position: relative;
    z-index: 2;                  /* below overlay */
    background: transparent;
    color: transparent;          /* hide raw text so only overlay text is visible */
    caret-color: var(--text);    /* keep caret visible */
    padding: 10px;
    border: none;
    resize: vertical;
    min-height: 180px;
    width: 100%;
    font-family: 'JetBrains Mono', monospace;
    line-height: 1.4;
}
/* Highlighting inside overlay */
.overlay mark {
    background: #ffd54f;
    color: #000;
    padding:0 2px;
    border-radius:2px;
}
body.dark .overlay mark {
    background: #ffb74d;
    color: #000;
}

/* Regex syntax highlighting (translated regex) */
.regex-highlight .literal { color:#4cb8ff; }
.regex-highlight .group { color:#d19a66; }
.regex-highlight .quant { color:#c678dd; }
.regex-highlight .class { color:#98c379; }
.regex-highlight .alt { color:#e06c75; }
body.dark .regex-highlight .literal { color:#79c0ff; }
body.dark .regex-highlight .group { color:#e5c07b; }
body.dark .regex-highlight .quant { color:#d891ff; }
body.dark .regex-highlight .class { color:#a3ffb0; }
body.dark .regex-highlight .alt { color:#ff8faf; }

/* Small helpers */
.placeholder-text { color: #888; font-style: italic; }

.about-section {
    margin: 40px auto;
    padding: 24px;
    background: var(--code-bg);
    border: 1px solid var(--border);
    border-radius: 10px;
    max-width: 1100px;
    color: var(--text);
}

.about-section h2 {
    margin-top: 0;
    font-size: 26px;
}

.about-section h3 {
    margin-top: 22px;
    font-size: 20px;
}

.code-box.small {
    font-size: 14px;
    padding: 10px;
    overflow-x: auto;
}

